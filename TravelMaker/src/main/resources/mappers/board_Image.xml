<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="mapper.boardImage">

	<!--  테이블 컬럼하고 VO하고 1:1 맵핑했을 때 이름이 다르면 안됌. -->
   <resultMap id="imageResult" type="ImageVO">
      <result property="noticeNO" column="noticeNO" />
      <result property="travelNO" column="travelNO" />
      <result property="reviewNO" column="reviewNO" />
      <result property="promotionNO" column="promotionNO" />
      <result property="eventNO" column="eventNO" />
      <result property="image1" column="image1" />
      <result property="image2" column="image2" />
      <result property="image3" column="image3" />
      <result property="image4" column="image4" />
      <result property="image5" column="image5" />
      <result property="image6" column="image6" />
      <result property="image7" column="image7" />
      <result property="image8" column="image8" />
      <result property="image9" column="image9" />
      <result property="image10" column="image10" />
   </resultMap>
   
   <select id="selectAll" resultMap="imageResult">
		SELECT NOTICENO, TRAVELNO, REVIEWNO, PROMOTIONNO, EVENTNO, IMAGE1, IMAGE2, IMAGE3, IMAGE4, IMAGE5, IMAGE6, IMAGE7, IMAGE8, IMAGE9, IMAGE10
		 FROM IMAGE
	</select>
	
	<select id="selectOne" resultType="imageVO"> 
		SELECT NOTICENO, TRAVELNO, REVIEWNO, PROMOTIONNO, EVENTNO, IMAGE1, IMAGE2, IMAGE3, IMAGE4, IMAGE5, IMAGE6, IMAGE7, IMAGE8, IMAGE9, IMAGE10
		 FROM IMAGE
		 where noticeNO=#{noticeNO}
		 or travelNO=#{travelNO}
		 or reviewNO=#{reviewNO}
		 or promotionNO=#{promotionNO}
		 or eventNO=#{eventNO}
	</select>
	
	<select id="selectOneTest" resultType="imageVO"> 
		SELECT NOTICENO, IMAGE1, IMAGE2 FROM IMAGETEST
		where noticeNO=#{noticeNO}
	</select>
	
	<insert id="insertNoticeTest" parameterType="imageVO">
		INSERT INTO IMAGETEST (NOTICENO, IMAGE1, IMAGE2)
		 VALUES((select max(noticeNO) from notice), #{image1},#{image2})
	</insert>
	
	<insert id="insertNotice" parameterType="imageVO">
	INSERT INTO IMAGE (NOTICENO, TRAVELNO, REVIEWNO, PROMOTIONNO, EVENTNO, IMAGE1, IMAGE2, IMAGE3, IMAGE4, IMAGE5, IMAGE6, IMAGE7, IMAGE8, IMAGE9, IMAGE10)
	 VALUES((select max(noticeNO) from notice), null, null, null, null, #{image1}, #{image2}, #{image3}, #{image4}, #{image5}, #{image6}, #{image7}, #{image8}, #{image9}, #{image10})
	</insert>
	<insert id="insertTravel" parameterType="imageVO">
	INSERT INTO IMAGE (NOTICENO, TRAVELNO, REVIEWNO, PROMOTIONNO, EVENTNO, IMAGE1, IMAGE2, IMAGE3, IMAGE4, IMAGE5, IMAGE6, IMAGE7, IMAGE8, IMAGE9, IMAGE10)
	 VALUES(null, (select max(travelNO) from travel), null, null, null, #{image1}, #{image2}, #{image3}, #{image4}, #{image5}, #{image6}, #{image7}, #{image8}, #{image9}, #{image10})
	</insert>
	<insert id="insertReview" parameterType="imageVO">
	INSERT INTO IMAGE (NOTICENO, TRAVELNO, REVIEWNO, PROMOTIONNO, EVENTNO, IMAGE1, IMAGE2, IMAGE3, IMAGE4, IMAGE5, IMAGE6, IMAGE7, IMAGE8, IMAGE9, IMAGE10)
	 VALUES(null, null, (select max(reviewNO) from review), null, null, #{image1}, #{image2}, #{image3}, #{image4}, #{image5}, #{image6}, #{image7}, #{image8}, #{image9}, #{image10})
	</insert>
	<insert id="insertPromotion" parameterType="imageVO">
	INSERT INTO IMAGE (NOTICENO, TRAVELNO, REVIEWNO, PROMOTIONNO, EVENTNO, IMAGE1, IMAGE2, IMAGE3, IMAGE4, IMAGE5, IMAGE6, IMAGE7, IMAGE8, IMAGE9, IMAGE10)
	 VALUES(null, null, null, (select max(promotionNO) from promotion), null}, #{image1}, #{image2}, #{image3}, #{image4}, #{image5}, #{image6}, #{image7}, #{image8}, #{image9}, #{image10})
	</insert>
	<insert id="insertEvent" parameterType="imageVO">
	INSERT INTO IMAGE (NOTICENO, TRAVELNO, REVIEWNO, PROMOTIONNO, EVENTNO, IMAGE1, IMAGE2, IMAGE3, IMAGE4, IMAGE5, IMAGE6, IMAGE7, IMAGE8, IMAGE9, IMAGE10)
	 VALUES(null, null, null, null, (select max(eventNO) from event), #{image1}, #{image2}, #{image3}, #{image4}, #{image5}, #{image6}, #{image7}, #{image8}, #{image9}, #{image10})
	</insert>
	
	<update id="update" parameterType="imageVO"> 
		UPDATE IMAGE SET IMAGE1=#{image1}, IMAGE2=#{image2}, IMAGE3=#{image3}, IMAGE4=#{image4}, IMAGE5=#{image5}, IMAGE6=#{image6}, IMAGE7=#{image7}, IMAGE8=#{image8}, IMAGE9=#{image9}, IMAGE10=#{image10}
		 where noticeNO=#{noticeNO}
		 or travelNO=#{travelNO}
		 or reviewNO=#{reviewNO}
		 or promotionNO=#{promotionNO}
		 or eventNO=#{eventNO}
	</update>
	
	<delete id="delete" parameterType="imageVO"> 
		DELETE FROM IMAGE
		 where noticeNO=#{noticeNO}
		 or travelNO=#{travelNO}
		 or reviewNO=#{reviewNO}
		 or promotionNO=#{promotionNO}
		 or eventNO=#{eventNO}
	</delete>
   
</mapper>